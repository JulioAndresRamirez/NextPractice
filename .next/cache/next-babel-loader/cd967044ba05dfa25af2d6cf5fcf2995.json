{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport Error from \"./_error\"; //Components\n\nimport Layout from \"../components/Layout\";\nimport PodcastItem from \"../components/PodcastItem\";\n\nvar channel =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(channel, _Component);\n\n  function channel(props) {\n    var _this;\n\n    _classCallCheck(this, channel);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(channel).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"openPodcast\", function (event, podcast) {\n      event.preventDefault();\n\n      _this.setState({\n        openPodcast: podcast\n      });\n    });\n\n    _this.state = {\n      openPodcast: null\n    };\n    return _this;\n  }\n\n  _createClass(channel, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          channel = _this$props.channel,\n          audiosClips = _this$props.audiosClips,\n          series = _this$props.series,\n          statusCode = _this$props.statusCode;\n      var openPodcast = this.state.openPodcast;\n\n      if (statusCode != 200) {\n        return __jsx(Error, {\n          statusCode: statusCode\n        });\n      }\n\n      return __jsx(Layout, {\n        title: \"\".concat(channel.title)\n      }, __jsx(\"div\", {\n        style: {\n          backgroundImage: \"url(\".concat(channel.urls.banner_image.original, \")\")\n        },\n        className: \"jsx-707723749\" + \" \" + \"banner\"\n      }), openPodcast && __jsx(\"div\", {\n        className: \"jsx-707723749\"\n      }, \"Hay un podcast abierto\"), __jsx(\"div\", {\n        className: \"jsx-707723749\" + \" \" + \"information\"\n      }, __jsx(\"div\", {\n        className: \"jsx-707723749\" + \" \" + \"title\"\n      }, __jsx(\"img\", {\n        src: \"/static/podcast-solid.svg\",\n        alt: \"podcasts\",\n        className: \"jsx-707723749\"\n      }), __jsx(\"h1\", {\n        className: \"jsx-707723749\"\n      }, channel.title)), __jsx(\"h2\", {\n        className: \"jsx-707723749\"\n      }, \"Ultimos podcasts\"), audiosClips.map(function (clip) {\n        return __jsx(PodcastItem, {\n          clip: clip,\n          openPodcast: openPodcast\n        });\n      }), __jsx(\"h2\", {\n        className: \"jsx-707723749\"\n      }, \"Series\"), series.map(function (serie) {\n        return __jsx(\"div\", {\n          key: serie.id,\n          className: \"jsx-707723749\" + \" \" + \"subseries\"\n        }, serie.title);\n      })), __jsx(_JSXStyle, {\n        id: \"707723749\"\n      }, \".information.jsx-707723749{padding:20px;}.title.jsx-707723749{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}.title.jsx-707723749 img.jsx-707723749{margin-right:10px;width:40px;}.banner.jsx-707723749{width:100%;padding-bottom:25%;background-position:50% 50%;background-size:cover;background-color:#aaa;}.subseries.jsx-707723749{background:white;padding:8px 8px;box-shadow:0px 2px 6px rgba(0,0,0,0.246);border-radius:4px;margin-bottom:10px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qdWxpb3JhbWlyZXpkZWZyZWl0YXMvRGVza3RvcC9OZXh0L3BhZ2VzL2NoYW5uZWwuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBMEc0QixBQUtzQyxBQUlBLEFBS0ssQUFLUCxBQVVNLFdBVEUsRUFkdkIsSUF3Qm9CLENBZkwsV0FDZixDQUtnQyxHQVVnQix5QkFUdEIsZ0JBWkssQUFzQlQsTUFUSSxZQVVILFVBVHZCLFNBWUQsQUFBQyxvRUF6QkEiLCJmaWxlIjoiL1VzZXJzL2p1bGlvcmFtaXJlemRlZnJlaXRhcy9EZXNrdG9wL05leHQvcGFnZXMvY2hhbm5lbC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBFcnJvciBmcm9tIFwiLi9fZXJyb3JcIjtcbi8vQ29tcG9uZW50c1xuaW1wb3J0IExheW91dCBmcm9tIFwiLi4vY29tcG9uZW50cy9MYXlvdXRcIjtcbmltcG9ydCBQb2RjYXN0SXRlbSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb2RjYXN0SXRlbVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBjaGFubmVsIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBvcGVuUG9kY2FzdDogbnVsbFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyBnZXRJbml0aWFsUHJvcHMoeyBxdWVyeSwgcmVzIH0pIHtcbiAgICAgICAgbGV0IGlkQ2hhbm5lbCA9IHF1ZXJ5LmlkO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgW3JlcUNoYW5uZWwsIHJlcVNlcmllcywgcmVxQXVkaW9zXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICBmZXRjaChgaHR0cHM6Ly9hcGkuYXVkaW9ib29tLmNvbS9jaGFubmVscy8ke2lkQ2hhbm5lbH1gKSxcbiAgICAgICAgICAgICAgICBmZXRjaChcbiAgICAgICAgICAgICAgICAgICAgYGh0dHBzOi8vYXBpLmF1ZGlvYm9vbS5jb20vY2hhbm5lbHMvJHtpZENoYW5uZWx9L2NoaWxkX2NoYW5uZWxzYFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgZmV0Y2goXG4gICAgICAgICAgICAgICAgICAgIGBodHRwczovL2FwaS5hdWRpb2Jvb20uY29tL2NoYW5uZWxzLyR7aWRDaGFubmVsfS9hdWRpb19jbGlwc2BcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICBdKTtcblxuICAgICAgICAgICAgaWYgKHJlcUNoYW5uZWwuc3RhdHVzID49IDQwMCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXNDb2RlID0gcmVxQ2hhbm5lbC5zdGF0dXM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgYXVkaW9zQ2xpcHM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHNlcmllczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogcmVxQ2hhbm5lbC5zdGF0dXNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgZGF0YUNoYW5uZWwgPSBhd2FpdCByZXFDaGFubmVsLmpzb24oKTtcbiAgICAgICAgICAgIGxldCBjaGFubmVsID0gZGF0YUNoYW5uZWwuYm9keS5jaGFubmVsO1xuXG4gICAgICAgICAgICBsZXQgZGF0YVNlcmllcyA9IGF3YWl0IHJlcVNlcmllcy5qc29uKCk7XG4gICAgICAgICAgICBsZXQgc2VyaWVzID0gZGF0YVNlcmllcy5ib2R5LmNoYW5uZWxzO1xuXG4gICAgICAgICAgICBsZXQgZGF0YUF1ZGlvcyA9IGF3YWl0IHJlcUF1ZGlvcy5qc29uKCk7XG4gICAgICAgICAgICBsZXQgYXVkaW9zQ2xpcHMgPSBkYXRhQXVkaW9zLmJvZHkuYXVkaW9fY2xpcHM7XG5cbiAgICAgICAgICAgIHJldHVybiB7IGNoYW5uZWwsIGF1ZGlvc0NsaXBzLCBzZXJpZXMsIHN0YXR1c0NvZGU6IDIwMCB9O1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNoYW5uZWw6IG51bGwsXG4gICAgICAgICAgICAgICAgYXVkaW9zQ2xpcHM6IG51bGwsXG4gICAgICAgICAgICAgICAgc2VyaWVzOiBudWxsLFxuICAgICAgICAgICAgICAgIHN0YXR1c0NvZGU6IDUwM1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9wZW5Qb2RjYXN0ID0gKGV2ZW50LCBwb2RjYXN0KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgb3BlblBvZGNhc3Q6IHBvZGNhc3RcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyBjaGFubmVsLCBhdWRpb3NDbGlwcywgc2VyaWVzLCBzdGF0dXNDb2RlIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBjb25zdCB7IG9wZW5Qb2RjYXN0IH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgICAgIGlmIChzdGF0dXNDb2RlICE9IDIwMCkge1xuICAgICAgICAgICAgcmV0dXJuIDxFcnJvciBzdGF0dXNDb2RlPXtzdGF0dXNDb2RlfSAvPjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8TGF5b3V0IHRpdGxlPXtgJHtjaGFubmVsLnRpdGxlfWB9PlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmFubmVyXCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogYHVybCgke2NoYW5uZWwudXJscy5iYW5uZXJfaW1hZ2Uub3JpZ2luYWx9KWBcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgICAge29wZW5Qb2RjYXN0ICYmIDxkaXY+SGF5IHVuIHBvZGNhc3QgYWJpZXJ0bzwvZGl2Pn1cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mb3JtYXRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aXRsZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIvc3RhdGljL3BvZGNhc3Qtc29saWQuc3ZnXCIgYWx0PVwicG9kY2FzdHNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGgxPntjaGFubmVsLnRpdGxlfTwvaDE+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxoMj5VbHRpbW9zIHBvZGNhc3RzPC9oMj5cbiAgICAgICAgICAgICAgICAgICAge2F1ZGlvc0NsaXBzLm1hcChjbGlwID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA8UG9kY2FzdEl0ZW0gY2xpcD17Y2xpcH0gb3BlblBvZGNhc3Q9e29wZW5Qb2RjYXN0fSAvPjtcbiAgICAgICAgICAgICAgICAgICAgfSl9XG5cbiAgICAgICAgICAgICAgICAgICAgPGgyPlNlcmllczwvaDI+XG5cbiAgICAgICAgICAgICAgICAgICAge3Nlcmllcy5tYXAoc2VyaWUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17c2VyaWUuaWR9IGNsYXNzTmFtZT1cInN1YnNlcmllc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VyaWUudGl0bGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgICAgICAgICAgICAgXG5cbiAgICAgICAgICAgICAgICAgICAgLmluZm9ybWF0aW9uIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAudGl0bGUge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC50aXRsZSBpbWcge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDQwcHg7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAuYmFubmVyIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDI1JTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IDUwJSA1MCU7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2FhYTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIFxuXG4gICAgICAgICAgICAgICAgICAgIC5zdWJzZXJpZXMge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiA4cHggOHB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgYm94LXNoYWRvdzogMHB4IDJweCA2cHggcmdiYSgwLCAwLCAwLCAwLjI0Nik7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogZ3JpZDpcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYH08L3N0eWxlPlxuICAgICAgICAgICAgPC9MYXlvdXQ+XG4gICAgICAgICk7XG4gICAgfVxufVxuIl19 */\\n/*@ sourceURL=/Users/julioramirezdefreitas/Desktop/Next/pages/channel.js */\"));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(_ref) {\n        var query, res, idChannel, _ref2, _ref3, reqChannel, reqSeries, reqAudios, dataChannel, _channel, dataSeries, series, dataAudios, audiosClips;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                query = _ref.query, res = _ref.res;\n                idChannel = query.id;\n                _context.prev = 2;\n                _context.next = 5;\n                return _Promise.all([fetch(\"https://api.audioboom.com/channels/\".concat(idChannel)), fetch(\"https://api.audioboom.com/channels/\".concat(idChannel, \"/child_channels\")), fetch(\"https://api.audioboom.com/channels/\".concat(idChannel, \"/audio_clips\"))]);\n\n              case 5:\n                _ref2 = _context.sent;\n                _ref3 = _slicedToArray(_ref2, 3);\n                reqChannel = _ref3[0];\n                reqSeries = _ref3[1];\n                reqAudios = _ref3[2];\n\n                if (!(reqChannel.status >= 400)) {\n                  _context.next = 13;\n                  break;\n                }\n\n                res.statusCode = reqChannel.status;\n                return _context.abrupt(\"return\", {\n                  channel: null,\n                  audiosClips: null,\n                  series: null,\n                  statusCode: reqChannel.status\n                });\n\n              case 13:\n                _context.next = 15;\n                return reqChannel.json();\n\n              case 15:\n                dataChannel = _context.sent;\n                _channel = dataChannel.body.channel;\n                _context.next = 19;\n                return reqSeries.json();\n\n              case 19:\n                dataSeries = _context.sent;\n                series = dataSeries.body.channels;\n                _context.next = 23;\n                return reqAudios.json();\n\n              case 23:\n                dataAudios = _context.sent;\n                audiosClips = dataAudios.body.audio_clips;\n                return _context.abrupt(\"return\", {\n                  channel: _channel,\n                  audiosClips: audiosClips,\n                  series: series,\n                  statusCode: 200\n                });\n\n              case 28:\n                _context.prev = 28;\n                _context.t0 = _context[\"catch\"](2);\n                return _context.abrupt(\"return\", {\n                  channel: null,\n                  audiosClips: null,\n                  series: null,\n                  statusCode: 503\n                });\n\n              case 31:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[2, 28]]);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return channel;\n}(Component);\n\nexport { channel as default };","map":{"version":3,"sources":["/Users/julioramirezdefreitas/Desktop/Next/pages/channel.js"],"names":["React","Component","Error","Layout","PodcastItem","channel","props","event","podcast","preventDefault","setState","openPodcast","state","audiosClips","series","statusCode","title","backgroundImage","urls","banner_image","original","map","clip","serie","id","query","res","idChannel","all","fetch","reqChannel","reqSeries","reqAudios","status","json","dataChannel","body","dataSeries","channels","dataAudios","audio_clips"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Error from \"./_error\";\n//Components\nimport Layout from \"../components/Layout\";\nimport PodcastItem from \"../components/PodcastItem\";\n\nexport default class channel extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            openPodcast: null\n        };\n    }\n\n    static async getInitialProps({ query, res }) {\n        let idChannel = query.id;\n\n        try {\n            let [reqChannel, reqSeries, reqAudios] = await Promise.all([\n                fetch(`https://api.audioboom.com/channels/${idChannel}`),\n                fetch(\n                    `https://api.audioboom.com/channels/${idChannel}/child_channels`\n                ),\n                fetch(\n                    `https://api.audioboom.com/channels/${idChannel}/audio_clips`\n                )\n            ]);\n\n            if (reqChannel.status >= 400) {\n                res.statusCode = reqChannel.status;\n                return {\n                    channel: null,\n                    audiosClips: null,\n                    series: null,\n                    statusCode: reqChannel.status\n                };\n            }\n\n            let dataChannel = await reqChannel.json();\n            let channel = dataChannel.body.channel;\n\n            let dataSeries = await reqSeries.json();\n            let series = dataSeries.body.channels;\n\n            let dataAudios = await reqAudios.json();\n            let audiosClips = dataAudios.body.audio_clips;\n\n            return { channel, audiosClips, series, statusCode: 200 };\n        } catch (e) {\n            return {\n                channel: null,\n                audiosClips: null,\n                series: null,\n                statusCode: 503\n            };\n        }\n    }\n\n    openPodcast = (event, podcast) => {\n        event.preventDefault();\n        this.setState({\n            openPodcast: podcast\n        });\n    };\n\n    render() {\n        const { channel, audiosClips, series, statusCode } = this.props;\n        const { openPodcast } = this.state;\n\n        if (statusCode != 200) {\n            return <Error statusCode={statusCode} />;\n        }\n\n        return (\n            <Layout title={`${channel.title}`}>\n                <div\n                    className=\"banner\"\n                    style={{\n                        backgroundImage: `url(${channel.urls.banner_image.original})`\n                    }}\n                />\n\n                {openPodcast && <div>Hay un podcast abierto</div>}\n\n                <div className=\"information\">\n                    <div className=\"title\">\n                        <img src=\"/static/podcast-solid.svg\" alt=\"podcasts\" />\n                        <h1>{channel.title}</h1>\n                    </div>\n\n                    <h2>Ultimos podcasts</h2>\n                    {audiosClips.map(clip => {\n                        return <PodcastItem clip={clip} openPodcast={openPodcast} />;\n                    })}\n\n                    <h2>Series</h2>\n\n                    {series.map(serie => {\n                        return (\n                            <div key={serie.id} className=\"subseries\">\n                                {serie.title}\n                            </div>\n                        );\n                    })}\n                </div>\n\n                <style jsx>{`\n                    \n\n                    .information {\n                        padding: 20px;\n                    }\n\n                    .title {\n                        display: flex;\n                        justify-content: flex-start;\n                    }\n\n                    .title img {\n                        margin-right: 10px;\n                        width: 40px;\n                    }\n\n                    .banner {\n                        width: 100%;\n                        padding-bottom: 25%;\n                        background-position: 50% 50%;\n                        background-size: cover;\n                        background-color: #aaa;\n                    }\n\n                    \n\n                    .subseries {\n                        background: white;\n                        padding: 8px 8px;\n                        box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.246);\n                        border-radius: 4px;\n                        margin-bottom: 10px;\n                        display: grid:\n\n                    }\n                `}</style>\n            </Layout>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}